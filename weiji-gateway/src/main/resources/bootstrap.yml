server:
  port: 9999
spring:
  application:
    name: weiji-gateway
  profiles:
    active: prod
  cloud:
    nacos:
      discovery:
        server-addr: http://172.21.0.6:8848
      config:
        file-extension: yml  # 必须修改成yaml或者yml
        group: DEFAULT_GROUP  # 缺省即可
        prefix: ${spring.application.name} # 缺省即可
    gateway:
      discovery:
        locator:
          enabled: true # 启用自动根据服务ID生成路由
          lower-case-service-id: true # 设置路由的路径为小写的服务ID
      routes:
        - id: weiji-order
          uri: lb://weiji-order
          predicates:
            - Path=/weiji-order/**
          filters:
            - StripPrefix=1 # 移除前缀 youlai-auth
        - id: weiji-service
          uri: lb://weiji-service
          predicates:
            - Path=/weiji-service/**
          filters:
            - StripPrefix=1
        - id: weiji-auth
          uri: lb://weiji-auth
          predicates:
            - Path=/weiji-auth/**
          filters:
            - StripPrefix=1
#eureka:
#  client:
#    service-url:
#      defaultZone: http://eureka6001.com:6001/eureka/eureka
#  instance:
#    prefer-ip-address: true
#    instance-id: ${spring.application.name}:${spring.cloud.client.ip-address}:${server.port}